<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./src/style.css">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>âš¡</text></svg>" />
    <title>Commercial EPCs: certificate & recommendation viewer</title>
  </head>
  <body>
    <header>
      <h1 style="margin:0; text-align:center;">
        Commercial EPCs: certificate & recommendations viewer
      </h1>
    </header>
    <main>
      <div class="flex">
        <div id="map"></div>
        <div id="bar">
          <div style="height:fit-content;display:flex;">
            <div style="width:100%;">
              <h3>Filter map to properties with<br>EPC recs pertaining to...</h3>
              <div id="epc-recs-filters">
              
              </div>   
            </div>
            <div style="width:100%;">
              <div>
                <h3><br>with payback time:</h3>
                <div id="payback-time-filters">
                  <input type="checkbox" name="payback-time-short-checkbox" id="payback-time-short-checkbox" checked>
                  <label for="payback-time-short-checkbox">Short</label>
                  <br>
                  <input type="checkbox" name="payback-time-medium-checkbox" id="payback-time-medium-checkbox" checked>
                  <label for="payback-time-medium-checkbox">Medium</label>
                  <br>
                  <input type="checkbox" name="payback-time-long-checkbox" id="payback-time-long-checkbox" checked>
                  <label for="payback-time-long-checkbox">Long</label>
                  <br>
                  <input type="checkbox" name="payback-time-other-checkbox" id="payback-time-other-checkbox" checked>
                  <label for="payback-time-other-checkbox">Other</label>
                </div>   
              </div>
              <div>
                <h3>and CO2 impact:</h3>
                <div id="co2-impact-filters">
                  <input type="checkbox" name="co2-impact-low-checkbox" id="co2-impact-low-checkbox" checked>
                  <label for="co2-impact-low-checkbox">Low</label>
                  <br>
                  <input type="checkbox" name="co2-impact-medium-checkbox" id="co2-impact-medium-checkbox" checked>
                  <label for="co2-impact-medium-checkbox">Medium</label>
                  <br>
                  <input type="checkbox" name="co2-impact-high-checkbox" id="co2-impact-high-checkbox" checked>
                  <label for="co2-impact-high-checkbox">High</label>
                </div>   
              </div>
            </div>    
          </div>
          <h3>
            EPC recommendations (items that match your criteria are highlighted in yellow)
          </h3>
          <div id="recs-area">
            <p style="margin-top:3em;color:grey;font-weight:normal;">
              Click a datapoint on the map to make its recommendations appear here.
              <br>
              If the map datapoints haven't loaded yet, please wait about 10 seconds.
              <br>
              If it takes longer than 20 there might be an issue.
            </p>            
          </div>   
        </div>
      </div>
    </main>
    <div id="veil">
        <h1>In order to use this page, you will need to provide
          <br>
          an EPC data zip file from this government website:
          <br>
          <a target="_blank" href="https://epc.opendatacommunities.org/">https://epc.opendatacommunities.org/</a>
        </h1>
        <h2>
        <br>
        (this is so that I'm not redistributing the data, and so that you can be sure that what you're viewing is up to date).
        <br>
        <br>
        It's easy to register for, and once you have, you should follow the link in your email.
        <br>
        <br>
        Click 'Non-Domestic EPC' in the ribbon at the top of the page, and then select 'Constituency' ->
        <br>
        'Birmingham, Yardley' in the right hand panel. Finally, click the big green button to download the zip.
        <br>
        <br>
        Because you can actually use more than one zip here, I recommend that you download
        <br>
        the zip for 'Birmingham, Hall Green' too, so that Tyseley is fully encompassed.
        <br>
        <br>
        Once you have the zips you require, come back to this window and click anywhere to upload them.
        <br>
        The map will quickly (hopefully in under 10 seconds) populate itself from the data you have provided.
        <br>
        <br>
        Note that at present I have it set to show only a small window around Tyseley to save on processing time.
        <br>
        If you would like to use this for an alternative area of Birmingham then by all means ask.
        </h2>
    </div> 
    <script type="module" src="./src/main.js"></script>
  </body>
</html>
